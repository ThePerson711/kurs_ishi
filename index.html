<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Calc</title>
    <style>
        *{
            user-select: none;
            font-weight: bold;
        }
        
    ::-webkit-scrollbar {
      width: 8px;
    }
    /* Track */
    ::-webkit-scrollbar-track {
      box-shadow: inset 0 0 5px grey; 
      border-radius: 10px;
    }
    
    /* Handle */
    ::-webkit-scrollbar-thumb {
      background: rgb(139, 136, 136); 
      border-radius: 10px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
      background: rgb(112, 110, 110); 
    }
        body {
            padding: 0;
            background-color: yellowgreen;
        }
        .screen {
            display: flex;
            flex-direction: column;
            justify-content: start;
            align-items: center;
            inset: 0;
            position: absolute;
            width: calc(1vw*100);
            height: calc(1vh*100);
        }
        .main_panel {
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            align-items: center;
            background-color: green;
            border-bottom-left-radius: calc(1vh*2);
            border-bottom-right-radius: calc(1vh*2);
            box-shadow: 0 0 calc(1vw*4) rgb(19, 24, 23);
            width: calc(1vw*100);
            height: calc(1vh*10);
            z-index: 2;
        }
            .main_panel_elem {
                display: flex;
                justify-content: center;
                align-items: center;
                font-weight: bold;
                width: calc(1vw*10);
                height: calc(1vh*6);
                background-color: red;
                border-radius: 10%;
                box-shadow: 0 0 calc(1vw*2) rgb(19, 24, 23);
            }
        .func_panel {
            display: flex;
            flex-direction: column;
            justify-content: start;
            align-items: center;
            background-color: yellowgreen;
            width: calc(1vw*100);
            height: calc(1vh*90);
            padding-bottom: calc(1vh*12);
            padding-top: calc(1vh*4);
            overflow-y: auto;
        }
            .func_elem {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                margin: calc(1vh*2) calc(1vw*10);
                width: calc(1vw*60);
                height: calc(1vh*10);
                background-color: chocolate;
                box-shadow: 0 0 calc(1vw*5) rgb(19, 24, 23);
            }
                .func_help_ {
                    display: flex; 
                    flex-direction: row; 
                    justify-content: space-around; 
                    align-items: center;
                    height: calc(1vh*3);
                }
                .func_ans {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    background-color: pink;
                    width: calc(1vw*60);
                    height: calc(1vh*8);
                }
                .func_num {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    background-color: red;
                    width: calc(1vw*8);
                    height: calc(1vh*3);
                    transform: translateY(Calc(1vh*(0)));
                    zoom: 1.2;
                    box-shadow: 0 0 calc(1vw*1) rgb(4, 4, 4);
                }
                .func_name {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    background-color: red;
                    width: calc(1vw*30);
                    height: calc(1vh*3);
                    margin: 0 calc(1vw*2);
                    transform: translateY(Calc(1vh*(0)));
                    zoom: 1.2;
                    box-shadow: 0 0 calc(1vw*1) rgb(4, 4, 4);
                }
                .func_enF {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    transform: translateY(Calc(1vh*(0)));
                    background-color: red;
                    width: calc(1vw*8);
                    height: calc(1vh*3);
                    zoom: 1.3;
                    box-shadow: 0 0 calc(1vw*1) rgb(4, 4, 4);
                }

        .data_enter {
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            align-items: center;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            position: fixed;
            background-color: blue;
            width: calc(1vw*68);
            height: calc(1vh*55);
            z-index: 2;
            visibility: hidden;
        }
            .data_enter_textarea {
                width: 80%;
                font-size: 14px;
                margin: 0;
                font-weight: bold;
            }
                .txar_1 {
                    height: calc(1vh*5);
                }
                .txar_2 {
                    height: calc(1vh*12);
                }
                .txar_3 {
                    height: calc(1vh*26);
                }
            .data_enter_title {
                font-size: 20px;
                margin: 0;
                font-weight: bold;
            }
            .data_enter_btn {
                font-size: 20px;
                font-weight: bold;
                width: calc(1vw*20);
                height: calc(1vh*5);
            }
        .for_security {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            position: fixed;
            background-color: blue;
            width: calc(1vw*100);
            height: calc(1vh*100);
            z-index: 7;
            visibility: visible;
        }
            .cent_pan {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }
                .HCP_p {
                    font-size: 24px;
                }
                .HCP_tx {
                    font-size: 24px;
                    width: calc(1vw*60);
                    height: calc(1vh*6);
                }
                .HCP_btn {
                    margin: calc(1vw*5);
                    width: calc(1vw*20);
                    height: calc(1vh*6);
                }
    </style>
</head>
<body>
    <div class="for_security" id="for_security">
        <div class="cent_pan">
            <p class="HCP_p">Login</p>
            <textarea class="HCP_tx" placeholder="Login" id="FS_login"></textarea>
            <p class="HCP_p">Password</p>
            <textarea class="HCP_tx" placeholder="Password" id="FS_password"></textarea>
            <button class="HCP_btn" onclick="CheckPassWord();">Enter</button>
        </div>
    </div>
    <div class="data_enter" id="data_enter">
        <p id="data_enter_num" class="data_enter_title">Num - 0</p>
        <p class="data_enter_title">Name</p>
        <textarea class="data_enter_textarea txar_1" placeholder="Name" id="DET_name"></textarea>
        <p class="data_enter_title">Function</p>
        <textarea class="data_enter_textarea txar_2" placeholder="Function" id="DET_func"></textarea>
        <button class="data_enter_btn" onclick="
            Except_data();">Ok</button>
    </div>
    <div class="data_enter" id="setF">
        <p class="data_enter_title">Enter Data</p>
        <textarea class="data_enter_textarea txar_3" placeholder="Enter Data" id="DET_import"></textarea>
        <button class="data_enter_btn" onclick="
            SetF_OK();">Ok</button>
    </div>
    <div class="screen" id="screen">
        <div class="main_panel" id="main_panel">
            <div class="main_panel_elem" id="add_elem" onclick="AddElem();">
                Add
            </div>
            <div class="main_panel_elem" id="clear_elem" onclick="ClearData();">
                Clear
            </div>
            <div class="main_panel_elem" id="copy_elem" onclick="CopyData();">
                Copy
            </div>
            <div class="main_panel_elem" id="setF_elem" onclick="SetF();">
                Set(F)
            </div>
            <div class="main_panel_elem" id="Projects" onclick="ProjOpenList();">
                Proj
            </div>
        </div>
        <div class="func_panel" id="func_panel">
        </div>
    </div>

    <script>
        let Admin_Open = false;
        let Elements = [];
        let w = [];
        let Curent_changes = 0;
        let forU = {
            login: "201-21",
            password: "201-21"
        }
        let Creator = {
            login: "tls123",
            password: "kimdokja"
        }
        let users = {login: "", password: ""}
        const func_panel = document.getElementById("func_panel");
        const data_enter = document.getElementById("data_enter");
        const for_security = document.getElementById("for_security");


        if (localStorage.getItem("Elements_data_for_LS") !== null) {
            Elements = ( JSON.parse(localStorage.getItem("Elements_data_for_LS")));
        }

        if (localStorage.getItem("ForCreLogAndPas") !== null) {
            For_Enter_Admin = ( JSON.parse(localStorage.getItem("ForCreLogAndPas")));
            if (For_Enter_Admin.login === Creator.login && For_Enter_Admin.password === Creator.password ) {
                for_security.style = "visibility: hidden;";
                Admin_Open = true;
            }
        }

        for (let i = 0; i < Elements.length; i++) {
            AddInnerPage(i+1);
        }

        
        if (!Admin_Open) {
            document.getElementById("setF_elem").style.opacity = 0.5;
        } else {
            document.getElementById("setF_elem").style.opacity = 1;
        }

        UpDate();
        //
        function AddElem() {
            Elements.push({
                name: `Name_${Elements.length+1}`,
                func: "0"
            });
            NumOfNew = Elements.length;
            AddInnerPage(NumOfNew);
            SetData();
            UpDate();
        }
        //
        function UpDate() {
            w = [null];
            for (let i = 0; i < Elements.length; i++) {
                document.getElementById(`func_num_id_${i+1}`).innerHTML = String(i+1);
                document.getElementById(`func_name_id_${i+1}`).innerHTML = String(Elements[i].name);
                w.push(Number(eval(Elements[i].func)));
                document.getElementById(`func_ans_id_${i+1}`).innerHTML = 
                    String( w[i+1] );
            }
        }
        //
        function Calculate(func_) {
            answer = 0;
            answer = Number(eval(func_));
            return answer;
        }
        //
        function SetData() {
            localStorage.setItem("Elements_data_for_LS", JSON.stringify(Elements));
        }
        //
        function Func_Enter_Data(index_) {
            Curent_changes = index_;
            document.getElementById("data_enter_num").innerHTML = `Num - ${Curent_changes}`;
            document.getElementById("DET_name").innerHTML = Elements[Curent_changes-1].name;
            document.getElementById("DET_func").innerHTML = Elements[Curent_changes-1].func;            
            document.getElementById("DET_name").value = Elements[Curent_changes-1].name;
            document.getElementById("DET_func").value = Elements[Curent_changes-1].func;            
            
            data_enter.style = "visibility: visible;";
        }
        //
        function Except_data() {
            Elements[Curent_changes-1].name = document.getElementById("DET_name").value;
            Elements[Curent_changes-1].func = document.getElementById("DET_func").value;
            data_enter.style = "visibility: hidden;";
            SetData();
            UpDate();
        }
        //
        function ClearData() {
            localStorage.removeItem("Elements_data_for_LS");
            Elements = [];
            func_panel.innerHTML = "";
        }
        //
        function CopyData() {
            navigator.clipboard.writeText( (localStorage.getItem("Elements_data_for_LS")) );
        }
        //
        function SetF() {
            if (Admin_Open) {
                document.getElementById("setF").style = "visibility: visible;";
            }
        }
        //
        function SetF_OK() {
            if (document.getElementById("DET_import").value !== "") {
                ClearData();
                localStorage.setItem("Elements_data_for_LS", (document.getElementById("DET_import").value));
                Elements = JSON.parse(localStorage.getItem("Elements_data_for_LS"));
                for (let i = 0; i < Elements.length; i++) {
                    AddInnerPage(i+1);
                }
                UpDate();
            }
            document.getElementById("setF").style = "visibility: hidden;";
        }
        //
        function ProjOpenList() {

        }
        //
        function AddInnerPage(ind_) {
            func_panel.innerHTML += `<div class="func_elem" id="func_elem_id_${ind_}">
                <div class="func_help_">
                    <div class="func_num" id="func_num_id_${ind_}">
                        0
                    </div>
                    <div class="func_name" id="func_name_id_${ind_}">
                        Name
                    </div>
                    <div class="func_enF" id="func_enF_id_${ind_}" onclick="
                    Func_Enter_Data(${ind_})">
                        #
                    </div>
                </div>
                <div class="func_ans" id="func_ans_id_${ind_}">
                    Answer
                </div>
            </div>`;
        }
        //
        function CheckPassWord() {
            users.login = document.getElementById("FS_login").value;
            users.password = document.getElementById("FS_password").value;
            if ( users.login === forU.login && users.password === forU.password ) {
                for_security.style = "visibility: hidden;";
            }
            if ( users.login === Creator.login && users.password === Creator.password ) {
                for_security.style = "visibility: hidden;";
                localStorage.setItem("ForCreLogAndPas", JSON.stringify({login:users.login, password:users.password}));
            }        
        }
        //
        function kvadrat(param1) {
            return Math.pow(param1, 2);
        }
        function ildiz(param1) {
            return Math.pow(param1, (1/2));
        }
        function daraja(param1, param2) {
            return Math.pow(param1, param2);
        }
        function sin(param1) {
            return Math.sin(param1*Math.PI/180);
        }
        function cos(param1) {
            return Math.cos(param1*Math.PI/180);
        }
        function tan(param1) {
            return Math.tan(param1*Math.PI/180);
        }      
        function summa(param1, param2) {
            answer_ = 0
            for (let i_ = param1; i_ <= param2; i_++) {
                answer_ += w[i_];
            }
            return answer_;
        }  
        function ceil(param1) {
            return Math.ceil(param1);
        }
        function floor(param1) {
            return Math.floor(param1);
        }
    </script>
</body>
</html>